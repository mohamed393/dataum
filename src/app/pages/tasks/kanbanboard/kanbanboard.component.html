<div class="container-fluid">
  <!-- start page title -->
  <app-page-title title="My Tasks"></app-page-title>
  <a (click)="routeWithId(null)" href="javascript: void(0);" class="btn btn-primary "><i class="mdi mdi-plus mr-1"></i>
    {{'addNewEvent'|translate}}</a>

  <!-- end page title -->

  <div class="row">
    <div class="col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="dropdown float-right" >
            <a href="javascript: void(0);" class="dropdown-toggle arrow-none"  (click)="routeWithId(works[0].id)">
              <i class="mdi mdi-square-edit-outline m-0 text-muted h5"></i>
            </a>
          </div> <!-- end dropdown -->

          <h4 class="card-title mb-4 work">Work</h4>
          <div id="upcoming-task" class="pb-1 task-list" dndDropzone dndEffectAllowed="move">
            <div class="dndPlaceholder" dndPlaceholderRef></div>

            <ng-container *ngFor="let task of works[0].tasks" >
              <div [dndDraggable]="task" dndEffectAllowed="move" (dndMoved)="onDragged(task, works)">
                <ng-template [ngTemplateOutlet]="TaskContent" [ngTemplateOutletContext]="{task:task}">
                </ng-template>
              </div>
            </ng-container>

          </div>
        </div>
      </div>
    </div>
    <!-- end col -->

    <div class="col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="dropdown float-right" >
            <a href="javascript: void(0);" class="dropdown-toggle arrow-none"  (click)="routeWithId(personals[0].id)" >
              <i class="mdi mdi-square-edit-outline m-0 text-muted h5"></i>
            </a>
            <!--            <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>-->
            <!--              <a class="dropdown-item" href="javascript: void(0);">Edit</a>-->
            <!--              <a class="dropdown-item" href="javascript: void(0);">Delete</a>-->
            <!--            </div>-->
          </div> <!-- end dropdown -->

          <h4 class="card-title mb-4 person">Personal</h4>
          <div id="Progress-task" class="pb-1 task-list" dndDropzone dndEffectAllowed="move">
            <div class="dndPlaceholder" dndPlaceholderRef></div>
            <ng-container *ngFor="let task of personals[0].tasks">
              <div [dndDraggable]="task" dndEffectAllowed="move" (dndMoved)="onDragged(task, personals)">
                <ng-template [ngTemplateOutlet]="TaskContent" [ngTemplateOutletContext]="{task:task}">
                </ng-template>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="dropdown float-right" >
            <a href="javascript: void(0);" class="dropdown-toggle arrow-none"  (click)="routeWithId(Families[0].id)" >
              <i class="mdi mdi-square-edit-outline m-0 text-muted h5"></i>
            </a>
          </div> <!-- end dropdown -->

          <h4 class="card-title mb-4 family">Family</h4>
          <div id="completed-task" class="pb-1 task-list" dndDropzone dndEffectAllowed="move">
            <div class="dndPlaceholder" dndPlaceholderRef></div>

            <ng-container *ngFor="let task of Families[0].tasks">
              <div [dndDraggable]="task" dndEffectAllowed="move" (dndMoved)="onDragged(task, Families)">
                <ng-template [ngTemplateOutlet]="TaskContent" [ngTemplateOutletContext]="{task:task}">
                </ng-template>
              </div>
            </ng-container>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Task  -->
<ng-template #TaskContent let-task='task'>
  <div class="card task-box">
    <div class="card-body">
      <div class="float-right ml-2">
        <span class="badge badge-pill badge-soft-secondary font-size-12" [ngClass]=" {
            'badge-soft-secondary': task.priority === 'high',
            'badge-soft-success': task.priority === 'low',
            'badge-soft-primary': task.priority === 'meduim'}">{{task.taskName}}</span>
      </div>
      <div>
        <h5 class="font-size-15"><a href="javascript: void(0);" class="text-dark">{{task.taskName}}</a>
        </h5>
        <p class="text-muted mb-4"> start Date:{{task.startDate}}</p>
        <p class="text-muted mb-4"> end Date:{{task.endDate}}</p>
        <p class="text-muted mb-4" > priority:{{task.priority}}</p>
      </div>

      <div class="team float-left">

      </div>

      <div class="text-right">
        <h5 class="font-size-15 mb-1">$ {{task.budget}}</h5>
        <p class="mb-0 text-muted">Budget</p>
      </div>
    </div>
  </div>
</ng-template>
